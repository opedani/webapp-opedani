extends layout

block head-content
    title OpEdAni: #{anime.title}
    link(rel='stylesheet' href='/stylesheets/views/anime.css')

block body-content
    script(src='/scripts/views/anime.js' type='module')

block main-content
    div.anime-banner
        div(style=`background-image: url("${anime.thumbnail}")`).anime-banner-background
        img(src=`${anime.thumbnail}`).anime-banner-thumbnail
    div.background
        header.anime-header.clamp
            h1 #{anime.title}
            div.flex-row.gap-large
                div.aligned-content
                    i.fa-solid.fa-o.fa-2x
                    p #{anime.openings.length}
                div.aligned-content
                    i.fa-solid.fa-e.fa-2x
                    p #{anime.endings.length}
                a(href=`/anime-contribute?id=${anime.id}`).aligned-content
                    i.fa-solid.fa-pen-to-square.fa-2x
                    p(data-breakpoint='gt-medium') Contribute
    div.clamp.flex-column.gap-large.padding-large
        h2 Openings
        div.grid.gap-large.fluid-medium
            each opening in anime.openings
                a(href=`/song/${opening.id}`).background.shadow-hard.flex-column.gap.padding.relative
                    div.flex-column.gap
                        div.aligned-content-wrap
                            i.fa-solid.fa-list-ol
                            p Opening #{opening.ordinal}
                        div.aligned-content-wrap
                            i.fa-solid.fa-music
                            p #{opening.title}
                    div.anime-oped-bottom
                        div.aligned-content
                            i.fa-solid.fa-star
                            p #{opening.globalRating.toFixed(2)}
                        div.aligned-content
                            i.fa-solid.fa-ranking-star
                            p #{opening.globalRanking}
                        div.aligned-content
                            i.fa-solid.fa-users
                            p #{opening.popularity}
        h2 Endings
        div.grid.gap-large.fluid-medium
            each ending in anime.endings
                a(href=`/song/${ending.id}`).background.shadow-hard.flex-column.gap.padding
                    div.flex-column.gap
                        div.aligned-content-wrap
                            i.fa-solid.fa-list-ol
                            p Ending #{ending.ordinal}
                        div.aligned-content-wrap
                            i.fa-solid.fa-music
                            p #{ending.title}
                    div.anime-oped-bottom
                        div.aligned-content
                            i.fa-solid.fa-star
                            p #{ending.globalRating.toFixed(2)}
                        div.aligned-content
                            i.fa-solid.fa-ranking-star
                            p #{ending.globalRanking}
                        div.aligned-content
                            i.fa-solid.fa-users
                            p #{ending.popularity}